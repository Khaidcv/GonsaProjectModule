webpackJsonp([0],{219:function(t,e,a){"use strict";function n(t){a(280)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(231),r=a.n(s);for(var o in s)["default","default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return s[t]})}(o);var i=a(272),c=a(32),l=n,u=a.i(c.a)(r.a,i.a,i.b,!1,l,null,null);e.default=u.exports},221:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(101),r=n(s),o=a(100),i=n(o);e.default={data:function(){return{show:!1}},mounted:function(){var t=this;return(0,i.default)(r.default.mark(function e(){var a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.get("/api/ApiAccount/ApiGetMenu");case 3:a=e.sent,a.data&&(n=a.data.find(function(t){return"81003"==t.menuID}),n?t.show=!0:t.$router.push("/")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.$router.push("/");case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},filters:{filterStatus:function(t){return-1==t?"<span class='label label-default'>Đã lưu</span>":101==t?"<span class='label label-primary'>Đã post</span>":201==t?"<span class='label label-info'>Team Lead đã duyệt</span>":0==t?"<span class='label label-warning'>Trả về chờ chỉnh sửa</span>":301==t?"<span class='label label-default'>Đã lập phiếu bán</span>":401==t?"<span class='label label-default'>Hàng đang giao</span>":501==t?"<span class='label label-success'>Hoàn tất</span>":""}}}},222:function(t,e,a){var n=a(2),s=a(6),r=a(43),o=a(223),i=a(22).f;t.exports=function(t){var e=s.Symbol||(s.Symbol=r?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||i(e,t,{value:o.f(t)})}},223:function(t,e,a){e.f=a(4)},224:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["value","templateResult","templateSelection","options","skey","placeholder","matcher","ajax","defaulttext","disabled"],mounted:function(){var t=this,e=$(this.$refs.select),a={allowClear:!0,placeholder:t.placeholder,data:$.map(t.options,function(e){return e.id=e[t.skey],e})};this.ajax&&(a.delay=15e3,a.ajax=this.ajax),this.templateSelection&&(a.templateSelection=this.templateSelection),this.templateResult&&(a.templateResult=this.templateResult),this.matcher&&(a.matcher=this.matcher),e.select2(a),this.ajax||e.val(this.value).trigger("change"),e.on("select2:select",function(){t.$emit("change",this.value)}),e.on("select2:unselect",function(){t.$emit("change",null)}),e.on("select2:unselecting",function(){$(this).data("unselecting",!0)}),e.on("select2:opening",function(t){$(this).data("unselecting")&&($(this).removeData("unselecting"),t.preventDefault())})},watch:{options:function(){if(!this.ajax){var t=this,e=$(this.$refs.select),a={allowClear:!0,placeholder:t.placeholder,data:$.map(t.options,function(e){return e.id=e[t.skey],e})};this.templateSelection&&(a.templateSelection=this.templateSelection),this.templateResult&&(a.templateResult=this.templateResult),this.matcher&&(a.matcher=this.matcher),e.select2(a)}},value:function(){$(this.$refs.select).val(this.value).trigger("change")}},beforeDestroy:function(){if(this.$refs.select)try{$(this.$refs.select).off().select2("destroy")}catch(t){}}}},229:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(101),r=n(s),o=a(100),i=n(o);e.default={props:["show","membType","customerID"],data:function(){return{selectedsProductID:[],products:[],keyword:"",pagination:{currentPage:1,total:0,pageSize:20,max:3}}},methods:{get_products:function(){var t=this;return(0,i.default)(r.default.mark(function e(){var a,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.selectedsProductID=[],a="/api/product?membType="+t.membType+"&customerID="+t.customerID,t.keyword&&(a+="&term="+t.keyword),e.next=5,t.$http.get(a);case 5:n=e.sent,t.products=n.data;case 7:case"end":return e.stop()}},e,t)}))()},loadPage:function(t){var e=this;return(0,i.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.$store.state.show_loading=!0,e.pagination.currentPage=t,a.next=4,e.get_products();case 4:e.$store.state.show_loading=!1;case 5:case"end":return a.stop()}},a,e)}))()},check:function(t){var e=this;return(0,i.default)(r.default.mark(function t(){return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,e)}))()},search:function(){var t=this;return(0,i.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.state.show_loading=!0,e.next=3,t.get_products();case 3:t.$store.state.show_loading=!1;case 4:case"end":return e.stop()}},e,t)}))()},save_close:function(){if(0==this.selectedsProductID.length)return void alert("Vui lòng chọn sản phẩm để đưa vào giỏ hàng !");for(var t=[],e=0;e<this.selectedsProductID.length;e++){var a=this.products[this.selectedsProductID[e]],n={};n.storeID=a.storeID,n.itemID=a.itemID,n.itemName=a.itemName,n.itemUnit=a.itemUnit,n.itemUnitName=a.itemUnitName,n.qc_XaBang=a.qc_XaBang,n.bchCode=a.bchCode,"OTC"==this.$store.state.user_info.clnType?n.boxID="SizeItem":"ETC"==this.$store.state.user_info.clnType&&(n.boxID="SizeBase"),n.itemPerBox=a.itemPerBox,n.slOhQtty=a.slOhQtty,n.rmRfQtty=a.rmRfQtty,"OTC"==this.$store.state.user_info.clnType?n.remnRfQt=-9999:"ETC"==this.$store.state.user_info.clnType&&(n.remnRfQt=a.rmRfQtty),n.itemQtty=0,n.storeQtty=0,"OTC"==this.$store.state.user_info.clnType?n.itemPrice=a.itemPrice:"ETC"==this.$store.state.user_info.clnType&&(n.itemPrice=a.storePrice),n.prdcAmnt=0,n.prmtID="",n.prmtListItem="",n.dscnAmnt=0,n.dscnRate=0,n.dscnMbRt=0,n.dscnMbAm=0,t.push(n)}this.$emit("selected",t)}},filters:{formatVnd:function(t){var e=0,a=t,n=isNaN(e=Math.abs(e))?2:e,s=a<0?"-":"",r=parseInt(a=Math.abs(+a||0).toFixed(n))+"",o=(o=r.length)>3?o%3:0;return s+(o?r.substr(0,o)+".":"")+r.substr(o).replace(/(\d{3})(?=\d)/g,"$1.")+(n?","+Math.abs(a-r).toFixed(n).slice(2):"")+" ₫"}},watch:{show:function(){var t=this;this.show?(this.selectedsProductID=[],this.keyword="",this.$store.state.show_loading=!0,this.products.length,(0,i.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get_products();case 2:t.$store.state.show_loading=!1,$(t.$refs.modal).modal("show");case 4:case"end":return e.stop()}},e,t)}))()):$(this.$refs.modal).modal("hide")}},mounted:function(){var t=this;$(this.$refs.modal).on("hidden.bs.modal",function(){t.$emit("hide")})},computed:{totalPages:function(){return Math.ceil(this.pagination.total/this.pagination.pageSize)},start:function(){var t=this.pagination.currentPage-this.pagination.max;return t<=1?1:t},end:function(){var t=this.pagination.currentPage+this.pagination.max;return t>this.totalPages?this.totalPages:t}},beforeDestroy:function(){$(this.$refs.modal).modal("hide")}}},230:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(101),r=n(s),o=a(100),i=n(o);e.default={props:["show"],data:function(){return{customers:[],pagination:{currentPage:1,total:0,pageSize:20,max:3}}},methods:{get_customers:function(){var t=this;return(0,i.default)(r.default.mark(function e(){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/api/customer?page="+t.pagination.currentPage+"&pageSize="+t.pagination.pageSize);case 2:a=e.sent,t.customers=a.data.data,t.pagination.total=a.data.total;case 5:case"end":return e.stop()}},e,t)}))()},loadPage:function(t){var e=this;return(0,i.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.$store.state.show_loading=!0,e.pagination.currentPage=t,a.next=4,e.get_customers();case 4:e.$store.state.show_loading=!1;case 5:case"end":return a.stop()}},a,e)}))()},selected:function(t){this.$emit("selected",t.customerID)}},watch:{show:function(){var t=this;this.show?(this.$store.state.show_loading=!0,0==this.customers.length?(0,i.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get_customers();case 2:t.$store.state.show_loading=!1,$(t.$refs.modal).modal("show");case 4:case"end":return e.stop()}},e,t)}))():(this.$store.state.show_loading=!1,$(this.$refs.modal).modal("show"))):$(this.$refs.modal).modal("hide")}},created:function(){},mounted:function(){var t=this;$(this.$refs.modal).on("hidden.bs.modal",function(){t.$emit("hide")})},computed:{totalPages:function(){return Math.ceil(this.pagination.total/this.pagination.pageSize)},start:function(){var t=this.pagination.currentPage-this.pagination.max;return t<=1?1:t},end:function(){var t=this.pagination.currentPage+this.pagination.max;return t>this.totalPages?this.totalPages:t}}}},231:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(105),r=n(s),o=a(239),i=n(o),c=a(242),l=n(c),u=a(101),d=n(u),_=a(100),m=n(_),v=a(236),f=n(v),h=a(221),p=n(h),b=a(238),g=n(b),C=a(237),w=n(C),y=a(235),x=n(y),T=a(261),k=n(T),P=a(263),I=n(P),D=a(262),N=n(D),M=a(264),E=n(M);e.default={mixins:[f.default,g.default,w.default,p.default],components:{Select2:k.default,CustomerListModal:I.default,AddProductModal:N.default,SelectProductPromotionModal:E.default},data:function(){return{mode:0,isDirty:!1,form_title:"",customer_ajax:{url:"/api/customer?PageSize=50",dataType:"json",data:function(t){return t.term?{term:t.term||"",page:t.page||1}:{page:t.page||1}},cache:!0},issubmited_customer:!1,issubmited_delivery_customer:!1,delivery_customers:[],show_modal_customer_list:!1,step_active:"step-customer",web_contract_details:[],initWebContract:{},webContract:{clnID:"",clnPath:"",oid:"",odate:null,saleEmID:"",saleEmName:"",descrip:"",customerID:null,psCsName:"",membType:"",memberCardID:"",dscnMbRt:"",psCsInfo:"",psCsTel:"",psCsAddr:"",dlCsName:"",deliverEm:null,dlCsInfo:"",prdcAmnt:0,dscnAmnt:0,dscnMbAm:0,sum_Amnt:0}}},methods:{get_oid:function(){var t=this;return(0,m.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/api/webcontract/getoid");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)}))()},get_delivery_customers:function(){var t=this;return(0,m.default)(d.default.mark(function e(){var a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.webContract.customerID){e.next=7;break}return e.next=3,t.$http.get("/api/customer/GetByDelivery/"+t.webContract.customerID);case 3:a=e.sent,t.delivery_customers=a.data,e.next=8;break;case 7:t.delivery_customers=[];case 8:case"end":return e.stop()}},e,t)}))()},load_customer_info:function(){var t=this;return(0,m.default)(d.default.mark(function e(){var a,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.webContract.customerID&&t.webContract.customerID.length>0)){e.next=14;break}return e.next=3,t.$http.get("/api/customer/"+t.webContract.customerID);case 3:a=e.sent,n=a.data,t.webContract.psCsName=n.psCsName,t.webContract.membType=n.membType,t.webContract.memberCardID=n.memberCardID,t.webContract.dscnMbRt=n.dscnMbRt,t.webContract.psCsInfo=n.psCsInfo,t.webContract.psCsTel=n.psCsTel,t.webContract.psCsAddr=n.psCsAddr,e.next=25;break;case 14:t.webContract.psCsName="",t.webContract.customerID="",t.webContract.memberCardID="",t.webContract.membType="",t.webContract.dscnMbRt="",t.webContract.psCsInfo="",t.webContract.psCsTel="",t.webContract.psCsAddr="",t.webContract.dlCsName="",t.webContract.deliverEm="",t.webContract.dlCsInfo="";case 25:case"end":return e.stop()}},e,t)}))()},customer_OnChange:function(t){var e=this;this.$store.state.show_loading=!0,this.web_contract_details=[],this.$store.state.show_loading=!0,this.webContract.customerID=t,this.show_modal_customer_list=!1,this.load_customer_info(),this.get_delivery_customers(),this.webContract.deliverEm=null,this.deliveryCustomer_OnChange(null),setTimeout(function(){e.$store.state.show_loading=!1},500)},get_customer_template_result:function(t){return null!=t.customerID&&t.customerID.length>0?$("<div class='select2-template-result'>\n              <div class='title'>"+t.psCsName+'</div>\n              <div class=""><span>'+t.psCsTel+'</span></div>\n              <div class=""><small>'+t.psCsInfo+"</small></div>\n              </div>"):null},get_customer_template_selection:function(t){return null!=t.customerID&&t.customerID.length>0?t.psCsName:t.text},get_customer_matcher:function(t,e){return""===$.trim(t.term)?e:null==e.customerID?null:e.psCsTel.toLowerCase().includes(t.term.toLowerCase())?e:this.xoadau(e.psCsName).toLowerCase().includes(this.xoadau(t.term).toLowerCase())?e:this.xoadau(e.psCsInfo).toLowerCase().includes(this.xoadau(t.term).toLowerCase())?e:null},get_deliverycustomer_template_result:function(t){return null!=t.dlCsName&&t.dlCsName.length>0?$("<div class='select2-template-result'>\n              <div class='title'>"+t.dlCsName+'</div>\n              <div class="hidden"><span>'+t.deliverEm+'</span></div>\n              <div class=""><small>'+t.dlCsInfo+"</small></div>\n              </div>"):t.dlCsName},get_deliverycustomer_template_selection:function(t){return null!=t.deliverEm&&t.deliverEm.length>0?t.dlCsName:t.text},get_deliverycustomer_matcher:function(t,e){return""===$.trim(t.term)?e:null==e.deliverEm?null:this.xoadau(e.dlCsName).toLowerCase().includes(this.xoadau(t.term).toLowerCase())?e:null},deliveryCustomer_OnChange:function(t){var e=this.delivery_customers.find(function(e){return e.deliverEm==t});e?(this.webContract.deliverEm=e.deliverEm,this.webContract.dlCsInfo=e.dlCsInfo,this.webContract.dlCsName=e.dlCsName):(this.webContract.deliverEm="",this.webContract.dlCsInfo="",this.webContract.dlCsName="")},go_step_product:function(){var t=this;return(0,m.default)(d.default.mark(function e(){var a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.issubmited_customer=!0,t.issubmited_delivery_customer=!0,e.next=4,t.$validator.validateAll("form-step-customer");case 4:a=e.sent,a&&(t.step_active="step-delivery-customer",setTimeout((0,m.default)(d.default.mark(function e(){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$validator.validateAll("form-step-delivery-customer");case 2:a=e.sent,a&&(t.step_active="step-product");case 4:case"end":return e.stop()}},e,t)})),0));case 6:case"end":return e.stop()}},e,t)}))()},save_customer_info:function(){var t=this;return(0,m.default)(d.default.mark(function e(){var a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.issubmited_customer=!0,e.next=3,t.$validator.validateAll("form-step-customer");case 3:if(!(a=e.sent)){e.next=9;break}return t.step_active="step-delivery-customer",e.abrupt("return",!0);case 9:return t.step_active="step-customer",e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,t)}))()},save_delivery_customer:function(){var t=this;return(0,m.default)(d.default.mark(function e(){var a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.save_customer_info();case 2:return t.step_active="step-delivery-customer",t.issubmited_delivery_customer=!0,e.next=6,t.$validator.validateAll("form-step-delivery-customer");case 6:a=e.sent,a&&(t.step_active="step-product");case 8:case"end":return e.stop()}},e,t)}))()},save_step_product:function(){var t=this;return(0,m.default)(d.default.mark(function e(){var a,n,s,r,o,i,c,u;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.web_contract_details.length){e.next=3;break}return alert("Không có sản phẩm nào trong giỏ hàng !"),e.abrupt("return",!0);case 3:if(!((a=t.web_contract_details.filter(function(t){return null==t.storeQtty||null==t.itemQtty}).length)>0)){e.next=7;break}return alert("Cập nhật số lượng trong giỏ hàng ."),e.abrupt("return");case 7:n=[],s=function(){o=t.web_contract_details[r];var e=o.itemID,a=o.boxID,n=o.bchCode,s=o.storeID,l=o.prmtID,u=o.qc_XaBang;if(i=t.web_contract_details.filter(function(t){return t.itemID==e&&t.boxID==a&&t.bchCode==n&&t.storeID==s&&t.prmtID==l&&t.qc_XaBang==u}),i.length>1)return c=i[0],alert("Sản phẩm "+c.itemName+" với cùng qui cách bán, mã lô, số hợp đồng thầu, mã kho, CTKM bị trùng lặp. !"),{v:void 0}},r=0;case 10:if(!(r<t.web_contract_details.length)){e.next=17;break}if(u=s(),"object"!==(void 0===u?"undefined":(0,l.default)(u))){e.next=14;break}return e.abrupt("return",u.v);case 14:r++,e.next=10;break;case 17:t.step_active="step-review";case 18:case"end":return e.stop()}},e,t)}))()},save_webContract:function(){var t=this;return(0,m.default)(d.default.mark(function e(){var a,n,s;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.state.show_loading=!0,t.issubmited_customer=!0,t.issubmited_delivery_customer=!0,a={mode:t.mode,webContract:t.webContract,webContractDetails:t.web_contract_details},console.log("data to save",a),e.next=7,t.$http.post("/api/webcontract/save",a).catch(function(e){t.$store.state.show_loading=!1,alert("Không thể lưu đơn hàng ! Vui lòng kiểm tra lại thông tin !"),console.log(e)});case 7:n=e.sent,console.log(n),s=n.data.status,1==s?(alert(n.data.message),window.location.href="/web-contract/edit?oid="+t.webContract.oid):(alert("Lỗi, không thể lưu đơn hàng. "+n.data.message),console.log(n.data.message)),t.$store.state.show_loading=!1;case 12:case"end":return e.stop()}},e,t)}))()},delete_webContract:function(){var t=this;return(0,m.default)(d.default.mark(function e(){var a;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=confirm("Bạn có chắc chắn muốn xóa đơn hàng không ?")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$http.post("/api/webcontract/delete?OID="+t.webContract.oid);case 4:a=e.sent,console.log(a),1==a.data.status?t.$router.push("/web-contract"):(alert(a.data.message),console.log(a.data.exMessage));case 7:case"end":return e.stop()}},e,t)}))()},post_webContract:function(){var t=this;return(0,m.default)(d.default.mark(function e(){var a,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,i.default)(t.initWebContract)==(0,i.default)(t.webContract)&&(1!=t.isDirty||1!=t.mode)){e.next=3;break}return alert("Vui lòng lưu đơn hàng trước khi Post"),e.abrupt("return");case 3:if(!confirm("Bạn có chắc chắn muốn Post đơn hàng này không ?")){e.next=9;break}return e.next=6,t.$http.post("/api/webcontract/post?oid="+t.webContract.oid).catch(function(t){alert("Có lỗi, vui lòng kiểm tra thông tin !"),console.log(t)});case 6:a=e.sent,n=a.data,1==n.status?window.location.reload():alert(n.message);case 9:case"end":return e.stop()}},e,t)}))()},approve_webContract:function(){var t=this;return(0,m.default)(d.default.mark(function e(){var a,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Bạn có chắc chắn muốn duyệt đơn hàng này không ?")){e.next=6;break}return e.next=3,t.$http.post("/api/webcontract/approve?oid="+t.webContract.oid).catch(function(t){alert("Có lỗi, vui lòng kiểm tra thông tin !"),console.log(t)});case 3:a=e.sent,n=a.data,1==n.status?window.location.reload():alert(n.message);case 6:case"end":return e.stop()}},e,t)}))()},return_webContract:function(){var t=this;return(0,m.default)(d.default.mark(function e(){var a,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Bạn có chắc chắn muốn trả đơn hàng này về không ?")){e.next=6;break}return e.next=3,t.$http.post("/api/webcontract/return?oid="+t.webContract.oid).catch(function(t){alert("Có lỗi, vui lòng kiểm tra thông tin !"),console.log(t)});case 3:a=e.sent,n=a.data,1==n.status?window.location.reload():alert(n.message);case 6:case"end":return e.stop()}},e,t)}))()},confirm_webContract:function(){var t=this;return(0,m.default)(d.default.mark(function e(){var a,n;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Bạn có chắc chắn muốn xác nhận đơn hàng này về không ?")){e.next=6;break}return e.next=3,t.$http.post("/api/webcontract/confirm_receive?oid="+t.webContract.oid).catch(function(t){alert("Có lỗi, vui lòng kiểm tra thông tin !"),console.log(t)});case 3:a=e.sent,n=a.data,1==n.status?window.location.reload():alert(n.message);case 6:case"end":return e.stop()}},e,t)}))()}},mounted:function(){var t=this;return(0,m.default)(d.default.mark(function e(){var a,n,s,o,i;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$validator.localize("en",x.default.vn),t.$store.state.show_loading=!0,!(a=t.$route.query.oid)){e.next=16;break}return t.mode=1,e.next=7,t.$http.get("/api/webcontract/get?oid="+a);case 7:for(n=e.sent,t.webContract=n.data.webContract,t.web_contract_details=n.data.webContractDetails,s=0;s<t.web_contract_details.length;s++)null==t.web_contract_details[s].qc_XaBang&&(t.web_contract_details[s].qc_XaBang="");t.get_delivery_customers(),t.step_active="step-review",t.form_title="Đơn hàng : "+t.webContract.oid,e.next=38;break;case 16:return t.mode=0,t.form_title="Tạo mới đơn hàng",e.next=20,t.$http.get("/api/apiaccount/getCurrentuser");case 20:return o=e.sent,i=o.data,e.next=24,t.get_oid();case 24:t.webContract.oid=e.sent.data,t.webContract.asm=i.asm,t.webContract.team=i.team,t.webContract.sub=i.sub,t.webContract.cmpnID=i.cmpnID,t.webContract.clnID=i.clnID,t.webContract.clnPath=i.clnPath,t.webContract.zoneID=i.zoneID,t.webContract.regionID=i.regionID,t.webContract.saleEmID=i.userCode,t.webContract.saleEmName=i.fullName,t.webContract.odate=new Date,t.webContract.crt_Date=new Date,t.webContract.signNumb=-1;case 38:t.initWebContract=(0,r.default)({},t.webContract),t.$store.state.show_loading=!1;case 40:case"end":return e.stop()}},e,t)}))()},filters:{formatVnd:function(t){var e=0,a=t,n=isNaN(e=Math.abs(e))?2:e,s=a<0?"-":"",r=parseInt(a=Math.abs(+a||0).toFixed(n))+"",o=(o=r.length)>3?o%3:0;return s+(o?r.substr(0,o)+".":"")+r.substr(o).replace(/(\d{3})(?=\d)/g,"$1.")+(n?","+Math.abs(a-r).toFixed(n).slice(2):"")+" ₫"},dateTimeFormat:function(t){return t?t.toLocaleString().replace(",","").replace(/:.. /," "):""}},computed:{can_save:function(){return this.webContract.signNumb<=0},can_post:function(){return 1==this.mode&&this.webContract.signNumb<=0},can_edit:function(){return this.webContract.signNumb<=0},can_delete:function(){return 1==this.mode&&this.webContract.signNumb<=0},can_approve:function(){return 1==this.mode&&this.webContract.signNumb>0&&this.webContract.signNumb<201&&"manager"==this.userPosition},can_return:function(){return 1==this.mode&&this.webContract.signNumb>0&&this.webContract.signNumb<201&&"manager"==this.userPosition},can_confirm_receive:function(){return 1==this.mode&&this.webContract.signNumb>=401&&this.webContract.signNumb<501},userPosition:function(){return this.$store.state.user_info.userPosition?this.$store.state.user_info.userPosition.toLowerCase():""}},watch:{webContract:function(){console.log("change")}}}},233:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(105),r=n(s),o=a(101),i=n(o),c=a(100),l=n(c);e.default={props:{show:Boolean,detail_editing:{type:Object},customerID:{type:String,default:""},membType:{type:String,default:"01"}},data:function(){return{product_promotions:[],selected:null}},methods:{get_product_promotions:function(){var t=this;return(0,l.default)(i.default.mark(function e(){var a,n,s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=$.param({itemID:t.detail_editing.itemID,prdcQtty:t.detail_editing.itemQtty||0,prdcAmnt:t.detail_editing.prdcAmnt||0,customerID:t.customerID,membType:t.membType}),n="/api/productpromotion?"+a,e.next=4,t.$http.get(n);case 4:s=e.sent,t.product_promotions=s.data;case 6:case"end":return e.stop()}},e,t)}))()},on_selected:function(t){this.$emit("change",(0,r.default)({},t))}},filters:{formatVnd:function(t){var e=0,a=t,n=isNaN(e=Math.abs(e))?2:e,s=a<0?"-":"",r=parseInt(a=Math.abs(+a||0).toFixed(n))+"",o=(o=r.length)>3?o%3:0;return s+(o?r.substr(0,o)+".":"")+r.substr(o).replace(/(\d{3})(?=\d)/g,"$1.")+(n?","+Math.abs(a-r).toFixed(n).slice(2):"")+" ₫"}},watch:{show:function(){var t=this;this.show?(this.$store.state.show_loading=!0,(0,l.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get_product_promotions();case 2:t.$store.state.show_loading=!1,$(t.$refs.modal).modal("show");case 4:case"end":return e.stop()}},e,t)}))()):$(this.$refs.modal).modal("hide")}},mounted:function(){var t=this;$(this.$refs.modal).on("hidden.bs.modal",function(){t.$emit("hide")})}}},234:function(t,e,a){var n=a(110),s=a(63).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,s)}},235:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={vn:{messages:{required:function(t){return"You must provide a value for "+t}},attributes:{customerID:"Khách hàng",psCsName:"Tên khách hàng",memberCardID:"Mã thẻ thành viên",memberTypeName:"Loại thẻ",dscnMbRt:"Tỷ lệ giảm thẻ",psCsAddr:"Mã khu vực",psCsInfo:"Địa chỉ",psCsTel:"Điện thoại"}},en:{}};e.default=n},236:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{xoadau:function(t){return t=t.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),t=t.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),t=t.replace(/ì|í|ị|ỉ|ĩ/g,"i"),t=t.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),t=t.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),t=t.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),t=t.replace(/đ/g,"d"),t=t.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g,"A"),t=t.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g,"E"),t=t.replace(/Ì|Í|Ị|Ỉ|Ĩ/g,"I"),t=t.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g,"O"),t=t.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g,"U"),t=t.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g,"Y"),t=t.replace(/Đ/g,"D")}}}},237:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{show_product_promotion_modal:!1,contract_detail_change_promotion_index:-1}},methods:{onProductPromotionChange:function(t){this.isDirty=!0;var e=this.web_contract_details[this.contract_detail_change_promotion_index];e.prmtID=t.prmtID,e.prmtListItem=t.prmtNm,e.dscnRate=t.dscnRate,e.dscnAmnt=t.dscnAmnt,this.calc_dscnAmnt(e),this.calc_SmPdAmnt(e),this.calc_payment_amount(),this.onCloseProductPromotionModal()},openProductPromotionModal:function(t){this.detail_editing=this.web_contract_details[t],this.contract_detail_change_promotion_index=t,this.show_product_promotion_modal=!0},onCloseProductPromotionModal:function(){this.detail_editing=null,this.contract_detail_change_promotion_index=-1,this.show_product_promotion_modal=!1}}}},238:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(101),r=n(s),o=a(100),i=n(o);e.default={data:function(){return{show_modal_add_product:!1,detail_editing:null}},methods:{load_product_info:function(t){var e=this;return(0,i.default)(r.default.mark(function a(){var n,s,o;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n="/api/product/line?ItemID="+t.itemID+"&ItemUnit="+t.itemUnit+"&MembType="+e.webContract.membType+"&customerID="+e.webContract.customerID,t.bchCode&&(n+="&BchCode="+t.bchCode),t.qc_XaBang&&(n+="&Qc_XaBang="+t.qc_XaBang),a.next=5,e.$http.get(n).catch(function(){alert("Không tìm thấy sản phẩm !")});case 5:s=a.sent,console.log(s),s.data&&null!=s.data&&(o=s.data,t.slOhQtty=o.slOhQtty,t.rmRfQtty=o.rmRfQtty);case 8:case"end":return a.stop()}},a,e)}))()},webContractDetail_Selected:function(t){var e=this;this.isDirty=!0;for(var a=[],n=0;n<t.length;n++){var s,r,o,i;!function(){s=t[n],s.dscnMbRt=e.webContract.dscnMbRt||0;var c=s.itemID,l=s.boxID,u=s.bchCode,d=s.storeID,_=s.prmtID,m=s.qc_XaBang;r=e.web_contract_details.filter(function(t){return t.itemID==c&&t.boxID==l&&t.bchCode==u&&t.storeID==d&&t.prmtID==_&&t.qc_XaBang==m}),r.length>0?(o=r[0],0==(i=a.filter(function(t){return t.itemName==o.itemName}).length>0)&&a.push({itemName:o.itemName})):e.web_contract_details.push(s)}()}a.length&&alert("Sản phẩm "+a.map(function(t){return t.itemName}).join(" ,")+" đã có trong giỏ hàng."),this.show_modal_add_product=!1},calc_product_amount:function(t){var e=t.itemPrice||0,a=t.itemQtty||0;t.prdcAmnt=e*a},calc_dscnAmnt:function(t){try{0==t.dscnRate?t.dscnAmnt=t.dscnAmnt:t.dscnAmnt=t.dscnRate*t.prdcAmnt/100}catch(t){alert(t)}},calc_DscnMbAm:function(t){var e=t.prdcAmnt||0,a=e*t.dscnMbRt/100;t.dscnMbAm=a},calc_SmPdAmnt:function(t){t.smPdAmnt=(t.prdcAmnt||0)-(t.dscnAmnt||0)-(t.dscnMbAm||0)},check_store_quantity:function(t){var e=t.storeQtty||0,a=t.slOhQtty||0,n=t.rmRfQtty||0;-1!=n&&(e>a?(alert("Số lượng bán (đơn vị) "+e+" không được lớn hơn số lượng tồn bán("+a+")"),t.storeQtty=0,t.itemQtty=0):e>n&&(alert("Số lượng bán (đơn vị) "+e+" không được lớn hơn số lượng tồn thầu("+n+")"),t.storeQtty=0,t.itemQtty=0))},store_quantity_change:function(t){var e=this;return(0,i.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.isDirty=!0,a.next=3,e.load_product_info(t);case 3:t.storeQtty&&t.storeQtty<0&&(t.storeQtty=0),e.check_store_quantity(t),t.itemPerBox&&t.itemPerBox>0?t.itemQtty=t.storeQtty/t.itemPerBox:t.itemQtty=0,e.calc_product_amount(t),e.calc_dscnAmnt(t),e.calc_DscnMbAm(t),e.calc_SmPdAmnt(t),e.calc_payment_amount();case 11:case"end":return a.stop()}},a,e)}))()},item_quantity_change:function(t){var e=this;return(0,i.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.isDirty=!0,a.next=3,e.load_product_info(t);case 3:t.itemQtty&&t.itemQtty<0&&(t.itemQtty=0),t.storeQtty=t.itemQtty*t.itemPerBox,e.store_quantity_change(t);case 6:case"end":return a.stop()}},a,e)}))()},calc_payment_amount:function(){var t=0,e=0,a=0,n=0;if(this.web_contract_details.length>0)for(var s=this.web_contract_details.length,r=0;r<s;r++){var o=this.web_contract_details[r];t+=o.prdcAmnt||0,e+=o.dscnAmnt||0,a+=o.dscnMbAm||0,n+=o.smPdAmnt||0}this.webContract.prdcAmnt=t,this.webContract.dscnAmnt=e,this.webContract.dscnMbAm=a,this.webContract.sum_Amnt=n},remove_webcontractdetails:function(t){this.isDirty=!0;var e=this.web_contract_details.indexOf(t);this.web_contract_details.splice(e,1),this.calc_payment_amount()},removeProductPromotion:function(t){this.isDirty=!0;var e=this.web_contract_details[t];e.prmtID="",e.prmtListItem="",e.dscnAmnt=0,e.dscnRate=0,this.calc_SmPdAmnt(e),this.calc_payment_amount()}}}},239:function(t,e,a){t.exports={default:a(243),__esModule:!0}},240:function(t,e,a){t.exports={default:a(244),__esModule:!0}},241:function(t,e,a){t.exports={default:a(245),__esModule:!0}},242:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var s=a(241),r=n(s),o=a(240),i=n(o),c="function"==typeof i.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};e.default="function"==typeof i.default&&"symbol"===c(r.default)?function(t){return void 0===t?"undefined":c(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":c(t)}},243:function(t,e,a){var n=a(6),s=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}},244:function(t,e,a){a(251),a(112),a(252),a(253),t.exports=a(6).Symbol},245:function(t,e,a){a(113),a(114),t.exports=a(223).f("iterator")},246:function(t,e,a){var n=a(60),s=a(106),r=a(104);t.exports=function(t){var e=n(t),a=s.f;if(a)for(var o,i=a(t),c=r.f,l=0;i.length>l;)c.call(t,o=i[l++])&&e.push(o);return e}},247:function(t,e,a){var n=a(34);t.exports=Array.isArray||function(t){return"Array"==n(t)}},248:function(t,e,a){var n=a(62)("meta"),s=a(23),r=a(33),o=a(22).f,i=0,c=Object.isExtensible||function(){return!0},l=!a(42)(function(){return c(Object.preventExtensions({}))}),u=function(t){o(t,n,{value:{i:"O"+ ++i,w:{}}})},d=function(t,e){if(!s(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,n)){if(!c(t))return"F";if(!e)return"E";u(t)}return t[n].i},_=function(t,e){if(!r(t,n)){if(!c(t))return!0;if(!e)return!1;u(t)}return t[n].w},m=function(t){return l&&v.NEED&&c(t)&&!r(t,n)&&u(t),t},v=t.exports={KEY:n,NEED:!1,fastKey:d,getWeak:_,onFreeze:m}},249:function(t,e,a){var n=a(104),s=a(61),r=a(41),o=a(107),i=a(33),c=a(108),l=Object.getOwnPropertyDescriptor;e.f=a(13)?l:function(t,e){if(t=r(t),e=o(e,!0),c)try{return l(t,e)}catch(t){}if(i(t,e))return s(!n.f.call(t,e),t[e])}},250:function(t,e,a){var n=a(41),s=a(234).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(t){try{return s(t)}catch(t){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==r.call(t)?i(t):s(n(t))}},251:function(t,e,a){"use strict";var n=a(2),s=a(33),r=a(13),o=a(14),i=a(111),c=a(248).KEY,l=a(42),u=a(64),d=a(44),_=a(62),m=a(4),v=a(223),f=a(222),h=a(246),p=a(247),b=a(8),g=a(23),C=a(41),w=a(107),y=a(61),x=a(109),$=a(250),T=a(249),k=a(22),P=a(60),I=T.f,D=k.f,N=$.f,M=n.Symbol,E=n.JSON,S=E&&E.stringify,O=m("_hidden"),A=m("toPrimitive"),Q={}.propertyIsEnumerable,q=u("symbol-registry"),R=u("symbols"),j=u("op-symbols"),L=Object.prototype,B="function"==typeof M,G=n.QObject,F=!G||!G.prototype||!G.prototype.findChild,V=r&&l(function(){return 7!=x(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(t,e,a){var n=I(L,e);n&&delete L[e],D(t,e,a),n&&t!==L&&D(L,e,n)}:D,X=function(t){var e=R[t]=x(M.prototype);return e._k=t,e},K=B&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},z=function(t,e,a){return t===L&&z(j,e,a),b(t),e=w(e,!0),b(a),s(R,e)?(a.enumerable?(s(t,O)&&t[O][e]&&(t[O][e]=!1),a=x(a,{enumerable:y(0,!1)})):(s(t,O)||D(t,O,y(1,{})),t[O][e]=!0),V(t,e,a)):D(t,e,a)},U=function(t,e){b(t);for(var a,n=h(e=C(e)),s=0,r=n.length;r>s;)z(t,a=n[s++],e[a]);return t},J=function(t,e){return void 0===e?x(t):U(x(t),e)},W=function(t){var e=Q.call(this,t=w(t,!0));return!(this===L&&s(R,t)&&!s(j,t))&&(!(e||!s(this,t)||!s(R,t)||s(this,O)&&this[O][t])||e)},H=function(t,e){if(t=C(t),e=w(e,!0),t!==L||!s(R,e)||s(j,e)){var a=I(t,e);return!a||!s(R,e)||s(t,O)&&t[O][e]||(a.enumerable=!0),a}},Y=function(t){for(var e,a=N(C(t)),n=[],r=0;a.length>r;)s(R,e=a[r++])||e==O||e==c||n.push(e);return n},Z=function(t){for(var e,a=t===L,n=N(a?j:C(t)),r=[],o=0;n.length>o;)!s(R,e=n[o++])||a&&!s(L,e)||r.push(R[e]);return r};B||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=_(arguments.length>0?arguments[0]:void 0),e=function(a){this===L&&e.call(j,a),s(this,O)&&s(this[O],t)&&(this[O][t]=!1),V(this,t,y(1,a))};return r&&F&&V(L,t,{configurable:!0,set:e}),X(t)},i(M.prototype,"toString",function(){return this._k}),T.f=H,k.f=z,a(234).f=$.f=Y,a(104).f=W,a(106).f=Z,r&&!a(43)&&i(L,"propertyIsEnumerable",W,!0),v.f=function(t){return X(m(t))}),o(o.G+o.W+o.F*!B,{Symbol:M});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)m(tt[et++]);for(var at=P(m.store),nt=0;at.length>nt;)f(at[nt++]);o(o.S+o.F*!B,"Symbol",{for:function(t){return s(q,t+="")?q[t]:q[t]=M(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in q)if(q[e]===t)return e},useSetter:function(){F=!0},useSimple:function(){F=!1}}),o(o.S+o.F*!B,"Object",{create:J,defineProperty:z,defineProperties:U,getOwnPropertyDescriptor:H,getOwnPropertyNames:Y,getOwnPropertySymbols:Z}),E&&o(o.S+o.F*(!B||l(function(){var t=M();return"[null]"!=S([t])||"{}"!=S({a:t})||"{}"!=S(Object(t))})),"JSON",{stringify:function(t){for(var e,a,n=[t],s=1;arguments.length>s;)n.push(arguments[s++]);if(a=e=n[1],(g(e)||void 0!==t)&&!K(t))return p(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!K(e))return e}),n[1]=e,S.apply(E,n)}}),M.prototype[A]||a(15)(M.prototype,A,M.prototype.valueOf),d(M,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},252:function(t,e,a){a(222)("asyncIterator")},253:function(t,e,a){a(222)("observable")},255:function(t,e,a){e=t.exports=a(102)(),e.push([t.i,".wrap-table[data-v-3c1e36e4]{overflow-y:hidden;min-height:200px}.wrap-table table[data-v-3c1e36e4]{width:100%}.wrap-table tr[data-v-3c1e36e4]:hover{cursor:pointer;background:#eee}.wrap-table tr button[data-v-3c1e36e4]:hover{background:#3c8dbc;color:#fff}",""])},257:function(t,e,a){e=t.exports=a(102)(),e.push([t.i,"input[type=checkbox]{height:15px;width:15px;cursor:pointer}table td{white-space:nowrap}table .td-checkbox label{cursor:pointer}.wrap-table{min-height:450px}.wrap-table tr:hover{background:#eee}.add-product-modal .modal-body{min-height:300px}",""])},258:function(t,e,a){e=t.exports=a(102)(),e.push([t.i,".modal-customer-list .wrap-table{max-height:600px;overflow-y:scroll}",""])},259:function(t,e,a){e=t.exports=a(102)(),e.push([t.i,".select2-selection .selected{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.select2-template-result{margin:0;position:relative}.select2-template-result .title{color:#008b8b;font-weight:700}.select2-container--default .select2-results>.select2-results__options{max-height:350px;overflow-y:auto}.select2-results__option.select2-results__option--highlighted .title{color:#fff}.select2-results__option[aria-selected=true] .title{color:#008b8b}.wrap-table th,table{white-space:nowrap}.box-review strong,.box-review td{white-space:normal}",""])},260:function(t,e,a){e=t.exports=a(102)(),e.push([t.i,".select2-selection__clear{font-size:22px}.select2-selection__clear:hover{color:#8d1111}",""])},261:function(t,e,a){"use strict";function n(t){a(281)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(224),r=a.n(s);for(var o in s)["default","default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return s[t]})}(o);var i=a(269),c=a(32),l=n,u=a.i(c.a)(r.a,i.a,i.b,!1,l,null,null);e.default=u.exports},262:function(t,e,a){"use strict";function n(t){a(278)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(229),r=a.n(s);for(var o in s)["default","default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return s[t]})}(o);var i=a(265),c=a(32),l=n,u=a.i(c.a)(r.a,i.a,i.b,!1,l,null,null);e.default=u.exports},263:function(t,e,a){"use strict";function n(t){a(279)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(230),r=a.n(s);for(var o in s)["default","default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return s[t]})}(o);var i=a(270),c=a(32),l=n,u=a.i(c.a)(r.a,i.a,i.b,!1,l,null,null);e.default=u.exports},264:function(t,e,a){"use strict";function n(t){a(276)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(233),r=a.n(s);for(var o in s)["default","default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return s[t]})}(o);var i=a(268),c=a(32),l=n,u=a.i(c.a)(r.a,i.a,i.b,!1,l,"data-v-3c1e36e4",null);e.default=u.exports},265:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"modal",staticClass:"modal add-product-modal"},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),t.show?a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập tên sản phẩm..."},domProps:{value:t.keyword},on:{keyup:function(e){return"button"in e||13===e.keyCode?t.search(e):null},input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),t._v(" "),a("span",{staticClass:"input-group-btn"},[t.keyword.length>0?a("button",{staticClass:"btn btn-defal btn-flat",on:{click:function(){t.keyword="",t.search()}}},[t._v("X")]):t._e(),t._v(" "),a("button",{staticClass:"btn btn-primary btn-flat",attrs:{type:"button"},on:{click:t.search}},[t._v("Tìm kiếm")])])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[t._m(1),t._v(" "),a("button",{staticClass:"btn btn-flat btn-primary btn-sm pull-right",attrs:{type:"button"},on:{click:function(e){t.save_close()}}},[t._v("Đưa sản phẩm đã chọn giỏ hàng "),a("i",{staticClass:"fa fa-floppy-o",attrs:{"aria-hidden":"true"}})])])]),t._v(" "),a("div",{staticClass:"clearfix"}),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"wrap-table"},[a("table",{staticClass:"table-bordered table",staticStyle:{width:"1500px"}},[a("thead",[a("tr",[a("th",[t._v(".No")]),t._v(" "),a("th",[t._v("Chọn")]),t._v(" "),a("th",[t._v("Mã sản phẩm")]),t._v(" "),a("th",{staticStyle:{width:"200px"}},[t._v("Tên sản phẩm")]),t._v(" "),a("th",[t._v("Tên đơn vị tính")]),t._v(" "),a("th",[t._v("Số lượng đơn vị/hộp")]),t._v(" "),a("th",[t._v("Giá hộp")]),t._v(" "),a("th",[t._v("Giá đơn vị")]),t._v(" "),a("th",[t._v("SL được bán (hộp)")]),t._v(" "),a("th",[t._v("SL được bán (đơn vị)")]),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("th",[t._v("Số hợp đồng thầu")]):t._e(),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("th",[t._v("Sl tồn thầu (hộp)")]):t._e(),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("th",[t._v("Sl tồn thầu (đơn vị)")]):t._e(),t._v(" "),a("th",[t._v("Sl dụ trù (hộp)")]),t._v(" "),a("th",[t._v("Sl dụ trù (đơn vị)")]),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("th",[t._v("Mã lô sản phẩm")]):t._e()])]),t._v(" "),a("tbody",t._l(t.products,function(e,n){return a("tr",{key:n,on:{click:function(e){t.check(e)}}},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[void 0,t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedsProductID,expression:"selectedsProductID"}],attrs:{id:"checkbox-product-"+n,type:"checkbox",name:"selectedsProductID[]",value:""},domProps:{value:n,checked:Array.isArray(t.selectedsProductID)?t._i(t.selectedsProductID,n)>-1:t.selectedsProductID},on:{change:function(e){var a=t.selectedsProductID,s=e.target,r=!!s.checked;if(Array.isArray(a)){var o=n,i=t._i(a,o);s.checked?i<0&&(t.selectedsProductID=a.concat([o])):i>-1&&(t.selectedsProductID=a.slice(0,i).concat(a.slice(i+1)))}else t.selectedsProductID=r}}})],2),t._v(" "),a("td",[t._v(t._s(e.itemID))]),t._v(" "),a("td",{staticClass:"td-checkbox"},[a("label",{staticClass:"text-info",attrs:{for:"checkbox-product-"+n}},[t._v(t._s(e.itemName))])]),t._v(" "),a("td",[t._v(t._s(e.itemUnitName))]),t._v(" "),a("td",[t._v(t._s(e.itemPerBox))]),t._v(" "),a("td",[t._v(t._s(t._f("formatVnd")(e.itemPrice)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatVnd")(e.storePrice)))]),t._v(" "),a("td",[t._v(t._s(e.slOhItQt_Format))]),t._v(" "),a("td",[t._v(t._s(e.slOhQtty_Format))]),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.qc_XaBang))]):t._e(),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.rmRfItQt_Format))]):t._e(),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.rmRfQtty_Format))]):t._e(),t._v(" "),a("td",[t._v(t._s(e.rmPlItQt_Format))]),t._v(" "),a("td",[t._v(t._s(e.rmPlQtty_Format))]),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.bchCode))]):t._e()])}),0)])]),t._v(" "),a("div",{staticClass:"text-right hidden"},[a("ul",{staticClass:"pagination pagination-sm"},[t.pagination.currentPage>1?[a("li",[a("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"},on:{click:function(e){t.loadPage(t.pagination.currentPage-1)}}},[a("i",{staticClass:"fa fa-arrow-left"})])]),t._v(" "),t.pagination.currentPage>t.pagination.max+1?a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){t.loadPage(1)}}},[t._v("1")])]):t._e()]:t._e(),t._v(" "),t.start>=t.pagination.max?[t.start==t.pagination.max?a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){t.loadPage(2)}}},[t._v("2")])]):a("li",[a("a",{attrs:{href:"#"}},[t._v("...")])])]:t._e(),t._v(" "),t._l(t.end,function(e){return e>=t.start?[e==t.pagination.currentPage?[a("li",{staticClass:"active"},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("\n                        "+t._s(e)+"\n                      ")])])]:[a("li",[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){t.loadPage(e)}}},[t._v(t._s(e))])])]]:t._e()}),t._v(" "),t.end+1<t.totalPages?[t.end+2==t.totalPages?a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){t.loadPage(t.totalPages-1)}}},[t._v(t._s(t.totalPages-1))])]):a("li",[a("a",{attrs:{href:"#"}},[t._v("...")])])]:t._e(),t._v(" "),t.pagination.currentPage<t.totalPages?[t.pagination.currentPage<t.totalPages-t.pagination.max?a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){t.loadPage(t.totalPages)}}},[t._v(t._s(t.totalPages))])]):t._e(),t._v(" "),t.pagination.currentPage<t.totalPages?a("li",[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){t.loadPage(t.pagination.currentPage+1)}}},[a("i",{staticClass:"fa fa-arrow-right"})])]):t._e()]:t._e()],2)])]):t._e()])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),a("h3",{staticClass:"modal-title"},[t._v("Danh sách sản phẩm")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-danger btn-flat btn-sm pull-right",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Hủy "),a("i",{staticClass:"fa fa-ban",attrs:{"aria-hidden":"true"}})])}]},268:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"modal",staticClass:"modal add-product-modal"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),t.show?a("div",{staticClass:"modal-body"},[a("div",{staticClass:"wrap-table"},[a("table",{staticClass:"table-bordered table"},[t._m(1),t._v(" "),a("tbody",t._l(t.product_promotions,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[a("strong",{staticClass:"text-success"},[t._v(t._s(e.prmtNm))])]),t._v(" "),a("td",[t._v(t._s(e.prmtID))]),t._v(" "),a("td",[t._v(t._s(e.dscnRate)+" %")]),t._v(" "),a("td",[t._v(t._s(t._f("formatVnd")(e.dscnAmnt)))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-default btn-xs",on:{click:function(a){t.on_selected(e)}}},[a("i",{staticClass:"fa fa-check"}),t._v(" Chọn")])])])}),0)])])]):t._e()])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),a("h3",{staticClass:"modal-title"},[t._v("Chương trình khuyến mãi")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v(".No")]),t._v(" "),a("th",[t._v("Tên CTKM")]),t._v(" "),a("th",[t._v("Mã CTKM")]),t._v(" "),a("th",[t._v("% Giảm ")]),t._v(" "),a("th",[t._v("Số tiền giảm")]),t._v(" "),a("th",[t._v("#")])])])}]},269:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("select",{ref:"select",staticClass:"form-control",staticStyle:{width:"100%"}},[a("option",{attrs:{value:""}},[t._v(t._s(t.placeholder))]),t._v(" "),t.defaulttext?a("option",{attrs:{selected:"selected"},domProps:{value:t.value}},[t._v(t._s(t.defaulttext))]):t._e()])])},s=[]},270:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"modal",staticClass:"modal modal-customer-list modal-wide"},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[t._m(1),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"wrap-table"},[a("table",{staticClass:"table-bordered table-striped table"},[t._m(2),t._v(" "),a("tbody",t._l(t.customers,function(e,n){return a("tr",{key:e.customerID},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.customerID))]),t._v(" "),a("td",[a("strong",{staticClass:"text-info"},[t._v(t._s(e.psCsName))])]),t._v(" "),a("td",[t._v(t._s(e.psCsInfo))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-xs btn-flat btn-primary",on:{click:function(a){t.selected(e)}}},[a("i",{staticClass:"fa fa-check"}),t._v(" Chọn")])])])}),0)])]),t._v(" "),a("div",{staticClass:"text-right"},[a("ul",{staticClass:"pagination pagination-sm"},[t.pagination.currentPage>1?[a("li",[a("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"},on:{click:function(e){t.loadPage(t.pagination.currentPage-1)}}},[a("i",{staticClass:"fa fa-arrow-left"})])]),t._v(" "),t.pagination.currentPage>t.pagination.max+1?a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){t.loadPage(1)}}},[t._v("1")])]):t._e()]:t._e(),t._v(" "),t.start>=t.pagination.max?[t.start==t.pagination.max?a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){t.loadPage(2)}}},[t._v("2")])]):a("li",[a("a",{attrs:{href:"#"}},[t._v("...")])])]:t._e(),t._v(" "),t._l(t.end,function(e){return e>=t.start?[e==t.pagination.currentPage?[a("li",{staticClass:"active"},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v(t._s(e))])])]:[a("li",[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){t.loadPage(e)}}},[t._v(t._s(e))])])]]:t._e()}),t._v(" "),t.end+1<t.totalPages?[t.end+2==t.totalPages?a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){t.loadPage(t.totalPages-1)}}},[t._v(t._s(t.totalPages-1))])]):a("li",[a("a",{attrs:{href:"#"}},[t._v("...")])])]:t._e(),t._v(" "),t.pagination.currentPage<t.totalPages?[t.pagination.currentPage<t.totalPages-t.pagination.max?a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){t.loadPage(t.totalPages)}}},[t._v(t._s(t.totalPages))])]):t._e(),t._v(" "),t.pagination.currentPage<t.totalPages?a("li",[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){t.loadPage(t.pagination.currentPage+1)}}},[a("i",{staticClass:"fa fa-arrow-right"})])]):t._e()]:t._e()],2)])]),t._v(" "),t._m(3)])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),a("h3",{staticClass:"modal-title"},[t._v("Danh sách khách hàng")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group"},[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập mã hoặc tên khách hàng..."}}),t._v(" "),a("span",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-primary btn-flat",attrs:{type:"button"}},[t._v("Tìm kiếm")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v(".No")]),t._v(" "),a("th",[t._v("Customer ID")]),t._v(" "),a("th",[t._v("Customer Name")]),t._v(" "),a("th",[t._v("Customer Address")]),t._v(" "),a("th",[t._v("Chọn")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer hidden"},[a("button",{staticClass:"btn btn-default pull-left",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Save changes")])])}]},272:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"content-header"},[a("h1",[t._v("\n      "+t._s(t.form_title)+"\n      "),a("small",[t._v("Đơn hàng")])]),t._v(" "),a("ol",{staticClass:"breadcrumb"},[a("li",[a("router-link",{attrs:{to:"/"}},[a("i",{staticClass:"fa fa-dashboard"}),t._v(" Dashboard")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"/web-contract"}},[t._v("Đơn hàng")])],1),t._v(" "),a("li",{staticClass:"active"},[t._v(t._s(t.form_title))])])]),t._v(" "),t.show?a("section",{staticClass:"content"},[a("p",{staticClass:"btn-group btn-breadcrumb"},[t._m(0),t._v(" "),a("button",{staticClass:"btn btn-sm btn-default",class:{"btn-success":"step-customer"==t.step_active},on:{click:function(e){t.step_active="step-customer"}}},[t._v("Thông tin khách hàng  "),a("i",{staticClass:"fa fa-arrow-circle-right"})]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-default",class:{"btn-success":"step-delivery-customer"==t.step_active},on:{click:function(e){t.save_customer_info()}}},[t._v("Thông tin đơn vị nhận hàng  "),a("i",{staticClass:"fa fa-arrow-circle-right"})]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-default",class:{"btn-success":"step-product"==t.step_active},on:{click:function(e){t.go_step_product()}}},[t._v("Danh sách sản phẩm  "),a("i",{staticClass:"fa fa-arrow-circle-right"})]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-default",class:{"btn-success":"step-review"==t.step_active},on:{click:function(e){t.save_step_product()}}},[t._v("Tổng quan đơn hàng")])]),t._v(" "),"step-customer"==t.step_active?a("div",{staticClass:"box box-primary"},[a("div",{staticClass:"box-header with-border"},[t._m(1),t._v(" "),a("div",{staticClass:"box-tools pull-right"},[a("button",{staticClass:"btn btn-primary",on:{click:function(e){t.save_customer_info()}}},[t._v("Chọn đơn vị nhận hàng "),a("i",{staticClass:"fa fa-arrow-circle-right",attrs:{"aria-hidden":"true"}})])])]),t._v(" "),a("div",{staticClass:"box-body"},[a("form",{attrs:{"data-vv-scope":"form-step-customer"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 col-md-offset-1"},[a("div",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label span-required",attrs:{for:""}},[t._v("Khách hàng")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("Select2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"customerID",attrs:{skey:"customerID",placeholder:"Chọn khách hàng",name:"customerID",ajax:t.customer_ajax,defaulttext:t.webContract.psCsName,templateResult:t.get_customer_template_result,templateSelection:t.get_customer_template_selection,matcher:t.get_customer_matcher},on:{change:function(e){t.customer_OnChange(e)}},model:{value:t.webContract.customerID,callback:function(e){t.$set(t.webContract,"customerID",e)},expression:"webContract.customerID"}}),t._v(" "),t.issubmited_customer&&t.errors.has("form-step-customer.customerID")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-step-customer.customerID")))]):t._e(),t._v(" "),a("div",{staticClass:"text-right hidden"},[a("button",{staticClass:"btn-xs btn-default",attrs:{type:"button"},on:{click:function(e){t.show_modal_customer_list=!0}}},[t._v("Mở danh sách khách hàng dạng bảng")])])],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label span-required",attrs:{for:""}},[t._v("Mã khách hàng")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.webContract.customerID,expression:"webContract.customerID"}],staticClass:"form-control",attrs:{type:"text",name:"customerID",readonly:"readonly",placeholder:"Mã khách hàng"},domProps:{value:t.webContract.customerID},on:{input:function(e){e.target.composing||t.$set(t.webContract,"customerID",e.target.value)}}}),t._v(" "),t.issubmited_customer&&t.errors.has("form-step-customer.customerID")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-step-customer.customerID")))]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label span-required",attrs:{for:""}},[t._v("Mã thẻ thành viên")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.webContract.memberCardID,expression:"webContract.memberCardID"}],staticClass:"form-control",attrs:{type:"text",name:"memberCardID",readonly:"readonly",placeholder:"Mã thẻ thành viên"},domProps:{value:t.webContract.memberCardID},on:{input:function(e){e.target.composing||t.$set(t.webContract,"memberCardID",e.target.value)}}}),t._v(" "),t.issubmited_customer&&t.errors.has("form-step-customer.memberCardID")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-step-customer.memberCardID")))]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label span-required",attrs:{for:""}},[t._v("Loại thẻ")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.webContract.membType,expression:"webContract.membType"}],staticClass:"form-control",attrs:{type:"text",name:"membType",readonly:"readonly",placeholder:"Loại thẻ"},domProps:{value:t.webContract.membType},on:{input:function(e){e.target.composing||t.$set(t.webContract,"membType",e.target.value)}}}),t._v(" "),t.issubmited_customer&&t.errors.has("form-step-customer.membType")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-step-customer.membType")))]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label span-required",attrs:{for:""}},[t._v("Tỷ lệ giảm thẻ")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.webContract.dscnMbRt,expression:"webContract.dscnMbRt"}],staticClass:"form-control",attrs:{type:"text",name:"dscnMbRt",readonly:"readonly",placeholder:"Tỷ lệ giảm thẻ"},domProps:{value:t.webContract.dscnMbRt},on:{input:function(e){e.target.composing||t.$set(t.webContract,"dscnMbRt",e.target.value)}}}),t._v(" "),t.issubmited_customer&&t.errors.has("form-step-customer.dscnMbRt")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-step-customer.dscnMbRt")))]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label span-required",attrs:{for:""}},[t._v("Tên khách hàng")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.webContract.psCsName,expression:"webContract.psCsName"}],staticClass:"form-control",attrs:{type:"text",name:"psCsName",placeholder:"Tên khách hàng"},domProps:{value:t.webContract.psCsName},on:{input:function(e){e.target.composing||t.$set(t.webContract,"psCsName",e.target.value)}}}),t._v(" "),t.issubmited_customer&&t.errors.has("form-step-customer.psCsName")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-step-customer.psCsName")))]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label",attrs:{for:""}},[t._v("Điện thoại")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric|min:8|max:12",expression:"'numeric|min:8|max:12'"},{name:"model",rawName:"v-model",value:t.webContract.psCsTel,expression:"webContract.psCsTel"}],staticClass:"form-control",attrs:{type:"text",name:"psCsTel",placeholder:"Điện thoại"},domProps:{value:t.webContract.psCsTel},on:{input:function(e){e.target.composing||t.$set(t.webContract,"psCsTel",e.target.value)}}}),t._v(" "),t.issubmited_customer&&t.errors.has("form-step-customer.psCsTel")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-step-customer.psCsTel")))]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label span-required",attrs:{for:""}},[t._v("Địa chỉ")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.webContract.psCsInfo,expression:"webContract.psCsInfo"}],staticClass:"form-control",attrs:{type:"text",name:"psCsInfo",placeholder:"Địa chỉ"},domProps:{value:t.webContract.psCsInfo},on:{input:function(e){e.target.composing||t.$set(t.webContract,"psCsInfo",e.target.value)}}}),t._v(" "),t.issubmited_customer&&t.errors.has("form-step-customer.psCsInfo")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-step-customer.psCsInfo")))]):t._e()])]),t._v(" "),t._e()])])])])]),t._v(" "),a("div",{staticClass:"box-footer text-right hidden"})]):t._e(),t._v(" "),"step-delivery-customer"==t.step_active?a("div",{staticClass:"box box-primary"},[a("div",{staticClass:"box-header with-border"},[t._m(2),t._v(" "),a("div",{staticClass:"box-tools pull-right"},[a("button",{staticClass:"btn btn-default",on:{click:function(e){t.step_active="step-customer"}}},[a("i",{staticClass:"fa fa-arrow-circle-left"}),t._v(" Quay lại")]),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(e){t.save_delivery_customer()}}},[t._v("Giỏ hàng "),a("i",{staticClass:"fa fa-arrow-circle-right",attrs:{"aria-hidden":"true"}})])])]),t._v(" "),a("div",{staticClass:"box-body"},[a("form",{attrs:{"data-vv-scope":"form-step-delivery-customer"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 col-md-offset-1"},[a("div",{staticClass:"form-horizontal"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label span-required",attrs:{for:""}},[t._v("Đơn vị nhận hàng")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("Select2",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],key:"deliverEm",attrs:{skey:"deliverEm",placeholder:"Chọn đơn vị nhận hàng",name:"deliverEm","data-vv-as":"Đơn vị nhận hàng",templateResult:t.get_deliverycustomer_template_result,options:t.delivery_customers,templateSelection:t.get_deliverycustomer_template_selection,matcher:t.get_deliverycustomer_matcher},on:{change:function(e){t.deliveryCustomer_OnChange(e)}},model:{value:t.webContract.deliverEm,callback:function(e){t.$set(t.webContract,"deliverEm",e)},expression:"webContract.deliverEm"}}),t._v(" "),t.issubmited_delivery_customer&&t.errors.has("form-step-delivery-customer.deliverEm")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-step-delivery-customer.deliverEm")))]):t._e()],1)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label span-required",attrs:{for:""}},[t._v("Tên đơn vị")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.webContract.dlCsName,expression:"webContract.dlCsName"}],key:"dlCsName",staticClass:"form-control",attrs:{type:"text",name:"dlCsName","data-vv-as":"Tên đơn vị nhận hàng",placeholder:"Tên đơn vị nhận hàng"},domProps:{value:t.webContract.dlCsName},on:{input:function(e){e.target.composing||t.$set(t.webContract,"dlCsName",e.target.value)}}}),t._v(" "),t.issubmited_delivery_customer&&t.errors.has("form-step-delivery-customer.dlCsName")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-step-delivery-customer.dlCsName")))]):t._e()])]),t._v(" "),t._e(),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label span-required",attrs:{for:""}},[t._v("Địa chỉ nhận hàng")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.webContract.dlCsInfo,expression:"webContract.dlCsInfo"}],key:"dlCsInfo",staticClass:"form-control",attrs:{type:"text",name:"dlCsInfo","data-vv-as":"Địa chỉ nhận hàng",placeholder:"Địa chỉ nhận hàng"},domProps:{value:t.webContract.dlCsInfo},on:{input:function(e){e.target.composing||t.$set(t.webContract,"dlCsInfo",e.target.value)}}}),t._v(" "),t.issubmited_delivery_customer&&t.errors.has("form-step-delivery-customer.dlCsInfo")?a("p",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("form-step-delivery-customer.dlCsInfo")))]):t._e()])])])])])])]),t._v(" "),a("div",{staticClass:"box-footer text-right hidden"},[a("button",{staticClass:"btn btn-default",on:{click:function(e){t.step_active="step-customer"}}},[a("i",{staticClass:"fa fa-arrow-circle-left"}),t._v(" Quay lại")]),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(e){t.save_delivery_customer()}}},[t._v("Giỏ hàng "),a("i",{staticClass:"fa fa-arrow-circle-right",attrs:{"aria-hidden":"true"}})])])]):t._e(),t._v(" "),"step-product"==t.step_active?a("div",{staticClass:"box box-primary"},[a("div",{staticClass:"box-header with-border"},[t._m(3),t._v(" "),a("div",{staticClass:"box-tools pull-right"},[a("button",{staticClass:"btn btn-default",on:{click:function(e){t.step_active="step-delivery-customer"}}},[a("i",{staticClass:"fa fa-arrow-circle-left"}),t._v(" Quay lại")]),t._v(" "),t.can_edit?a("button",{staticClass:"btn btn-primary",on:{click:function(e){t.show_modal_add_product=!0}}},[a("i",{staticClass:"fa fa-plus"}),t._v(" Thêm sản phẩm vào giỏ hàng")]):t._e(),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(e){t.save_step_product()}}},[t._v("Xem đơn hàng "),a("i",{staticClass:"fa fa-arrow-circle-right",attrs:{"aria-hidden":"true"}})])])]),t._v(" "),a("div",{staticClass:"box-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[t._m(4),t._v(" "),a("div",{staticClass:"wrap-table"},[a("form",{attrs:{"data-vv-scope":"form-step-product"}},[a("table",{staticClass:"table table-bordered",attrs:{width:"1200"}},[a("thead",[a("tr",[a("th",[t._v(".No")]),t._v(" "),a("th",[t._v("Mã kho")]),t._v(" "),a("th",[t._v("Tên sản phẩm")]),t._v(" "),a("th",[t._v("Tên đơn vị tính")]),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("th",[t._v("Số hợp đồng thầu")]):t._e(),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("th",[t._v("Mã lô")]):t._e(),t._v(" "),t._e(),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("th",[t._v("SL tồn thầu (đơn vị)")]):t._e(),t._v(" "),a("th",[t._v("SL bán (đơn vị)")]),t._v(" "),a("th",[t._v("SL bán (hộp)")]),t._v(" "),a("th",[t._v("Giá bán")]),t._v(" "),a("th",[t._v("Tiền hàng")]),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("th",[t._v("Tên chương trình KM")]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("th",[t._v("% GG.KM")]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("th",[t._v("Tiền GG.KM")]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("th",[t._v("% G.Thẻ")]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("th",[t._v("Tiền G.Thẻ")]):t._e(),t._v(" "),a("th",[t._v("Thành tiền hàng")]),t._v(" "),t.can_edit?a("th",[t._v("#")]):t._e()])]),t._v(" "),a("tbody",t._l(t.web_contract_details,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.storeID))]),t._v(" "),a("td",[a("strong",{staticClass:"text-success"},[t._v(t._s(e.itemName))])]),t._v(" "),a("td",[t._v(t._s(e.itemUnitName))]),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.qc_XaBang))]):t._e(),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.bchCode))]):t._e(),t._v(" "),t._e(),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.remnRfQt))]):t._e(),t._v(" "),a("td",[t.can_edit?[a("input",{directives:[{name:"model",rawName:"v-model",value:e.storeQtty,expression:"contractDetail.storeQtty"}],attrs:{type:"number",min:"0",max:"200"},domProps:{value:e.storeQtty},on:{change:function(a){t.store_quantity_change(e)},input:function(a){a.target.composing||t.$set(e,"storeQtty",a.target.value)}}})]:[t._v("\n                          "+t._s(e.storeQtty)+"\n                        ")]],2),t._v(" "),a("td",[t.can_edit?[a("input",{directives:[{name:"model",rawName:"v-model",value:e.itemQtty,expression:"contractDetail.itemQtty"}],attrs:{type:"number",min:"0",max:"200"},domProps:{value:e.itemQtty},on:{change:function(a){t.item_quantity_change(e)},input:function(a){a.target.composing||t.$set(e,"itemQtty",a.target.value)}}})]:[t._v("\n                          "+t._s(e.itemQtty)+"\n                        ")]],2),t._v(" "),a("td",[t._v(t._s(t._f("formatVnd")(e.itemPrice)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatVnd")(e.prdcAmnt)))]),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("td",{staticClass:"text-right"},[t._v("\n                        "+t._s(e.prmtListItem)+"\n                        "),t.can_edit?[a("button",{staticClass:"btn btn-xs btn-success",attrs:{type:"button"},on:{click:function(e){t.openProductPromotionModal(n)}}},[t._v("Tìm CTKM")]),t._v(" "),e.prmtListItem?a("button",{staticClass:"btn btn-xs btn-default",attrs:{type:"button"},on:{click:function(e){t.removeProductPromotion(n)}}},[t._v("X")]):t._e()]:t._e()],2):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.dscnRate))]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(t._f("formatVnd")(e.dscnAmnt)))]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.dscnMbRt))]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(t._f("formatVnd")(e.dscnMbAm)))]):t._e(),t._v(" "),a("td",[t._v(t._s(t._f("formatVnd")(e.smPdAmnt)))]),t._v(" "),t.can_edit?a("td",[a("button",{staticClass:"btn btn-xs btn-danger",attrs:{type:"button"},on:{click:function(a){t.remove_webcontractdetails(e)}}},[t._v(" Xóa ")])]):t._e()])}),0)])])])])])])]):t._e(),t._v(" "),"step-review"==t.step_active?a("div",{staticClass:"box box-primary box-review"},[a("div",{staticClass:"box-header with-border"},[t._m(5),t._v(" "),a("div",{staticClass:"box-tools pull-right"},[a("button",{staticClass:"btn btn-default",on:{click:function(e){t.step_active="step-product"}}},[a("i",{staticClass:"fa fa-arrow-circle-left"}),t._v(" Quay lại")]),t._v(" "),t.can_approve?a("button",{staticClass:"btn btn-sm btn-success",on:{click:t.approve_webContract}},[a("i",{staticClass:"fa fa-check-circle-o",attrs:{"aria-hidden":"true"}}),t._v(" Duyệt đơn hàng\n          ")]):t._e(),t._v(" "),t.can_return?a("button",{staticClass:"btn btn-sm btn-warning",on:{click:t.return_webContract}},[a("i",{staticClass:"fa fa-check-circle-o",attrs:{"aria-hidden":"true"}}),t._v(" Trả đơn hàng về\n          ")]):t._e(),t._v(" "),t.can_save?a("button",{staticClass:"btn btn-sm btn-success",on:{click:t.save_webContract}},[a("i",{staticClass:"fa fa-floppy-o",attrs:{"aria-hidden":"true"}}),t._v(" Lưu đơn hàng")]):t._e(),t._v(" "),t.can_post?a("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){t.post_webContract(!0)}}},[a("i",{staticClass:"fa fa-check-circle-o",attrs:{"aria-hidden":"true"}}),t._v(" Post đơn hàng\n          ")]):t._e(),t._v(" "),t.can_delete?a("button",{staticClass:"btn btn-sm btn-danger",on:{click:t.delete_webContract}},[a("i",{staticClass:"fa fa-trash"}),t._v(" Xóa đơn hàng")]):t._e(),t._v(" "),t.can_confirm_receive?a("button",{staticClass:"btn btn-sm btn-primary",on:{click:t.confirm_webContract}},[a("i",{staticClass:"fa fa-ban",attrs:{"aria-hidden":"true"}}),t._v("Xác nhận hàng đã giao")]):t._e()])]),t._v(" "),a("div",{staticClass:"box-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[t._m(6),t._v(" "),a("table",{staticClass:"table",attrs:{cellpadding:"5"}},[a("tbody",[a("tr",{staticClass:"hidden"},[t._m(7),t._v(" "),a("td",[t._v(t._s(t.webContract.asm))])]),t._v(" "),a("tr",{staticClass:"hidden"},[t._m(8),t._v(" "),a("td",[t._v(t._s(t.webContract.team))])]),t._v(" "),a("tr",{staticClass:"hidden"},[t._m(9),t._v(" "),a("td",[t._v(t._s(t.webContract.sub))])]),t._v(" "),a("tr",[t._m(10),t._v(" "),a("td",[t._v(t._s(t.webContract.clnID))])]),t._v(" "),a("tr",[t._m(11),t._v(" "),a("td",[t._v(t._s(t.webContract.clnPath))])]),t._v(" "),a("tr",[t._m(12),t._v(" "),a("td",[t._v(t._s(t.webContract.oid))])]),t._v(" "),a("tr",[t._m(13),t._v(" "),a("td",[t._v(t._s(t._f("dateTimeFormat")(t.webContract.odate)))])]),t._v(" "),a("tr",[t._m(14),t._v(" "),a("td",[t._v(t._s(t.webContract.saleEmName))])]),t._v(" "),a("tr",[t._m(15),t._v(" "),1==t.mode?[a("td",{domProps:{innerHTML:t._f("filterStatus")(t.webContract.signNumb)}})]:[a("td")]],2),t._v(" "),a("tr",[t._m(16),t._v(" "),a("td",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.webContract.descrip,expression:"webContract.descrip"}],staticClass:"form-control",attrs:{rows:"2"},domProps:{value:t.webContract.descrip},on:{input:function(e){e.target.composing||t.$set(t.webContract,"descrip",e.target.value)}}})])]),t._v(" "),a("tr",[t._m(17),t._v(" "),a("td",[t._v(t._s(t._f("dateTimeFormat")(t.webContract.crt_Date)))])]),t._v(" "),a("tr",[t._m(18),t._v(" "),a("td",[t._v(t._s(t._f("dateTimeFormat")(t.webContract.chgeDate)))])])])])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("h4",[a("i",{staticClass:"fa fa-user-circle"}),t._v(" "),a("strong",{staticClass:"text-success"},[t._v("Thông tin khách hàng")]),t._v(" "),t.can_edit?a("button",{staticClass:"btn btn-xs btn-success",on:{click:function(e){t.step_active="step-customer"}}},[t._v("Sửa")]):t._e()]),t._v(" "),a("table",{staticClass:"table",attrs:{cellpadding:"5"}},[a("tbody",[a("tr",[t._m(19),t._v(" "),a("td",[t._v(t._s(t.webContract.customerID))])]),t._v(" "),a("tr",[t._m(20),t._v(" "),a("td",[t._v(t._s(t.webContract.memberCardID))])]),t._v(" "),a("tr",[t._m(21),t._v(" "),a("td",[t._v(t._s(t.webContract.membType))])]),t._v(" "),a("tr",[t._m(22),t._v(" "),a("td",[t._v(t._s(t.webContract.dscnMbRt))])]),t._v(" "),a("tr",[t._m(23),t._v(" "),a("td",[a("strong",{staticClass:"text-primary"},[t._v(t._s(t.webContract.psCsName))])])]),t._v(" "),a("tr",[t._m(24),t._v(" "),a("td",[t._v(t._s(t.webContract.psCsTel))])]),t._v(" "),a("tr",[t._m(25),t._v(" "),a("td",[t._v(t._s(t.webContract.psCsInfo))])])])])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("h4",[a("i",{staticClass:"fa fa-truck"}),t._v(" "),a("strong",{staticClass:"text-success"},[t._v("Đơn vị nhận hàng")]),t._v(" "),t.can_edit?a("button",{staticClass:"btn btn-xs btn-success",on:{click:function(e){t.step_active="step-delivery-customer"}}},[t._v("Sửa")]):t._e()]),t._v(" "),a("table",{staticClass:"table",attrs:{cellpadding:"5"}},[a("tbody",[a("tr",[t._m(26),t._v(" "),a("td",[t._v(t._s(t.webContract.deliverEm))])]),t._v(" "),a("tr",[t._m(27),t._v(" "),a("td",[a("strong",{staticClass:"text-primary"},[t._v(t._s(t.webContract.dlCsName))])])]),t._v(" "),a("tr",[t._m(28),t._v(" "),a("td",[t._v(t._s(t.webContract.dlCsInfo))])])])])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("p",{staticClass:"text-right"},[t.can_edit?a("button",{staticClass:"btn btn-xs btn-success",on:{click:function(e){t.step_active="step-product"}}},[t._v("Sửa")]):t._e()]),t._v(" "),a("table",{staticClass:"table table-bordered",attrs:{width:"1200"}},[a("thead",[a("tr",[a("th",[t._v(".No")]),t._v(" "),a("th",[t._v("Mã kho")]),t._v(" "),a("th",[t._v("Tên sản phẩm")]),t._v(" "),a("th",[t._v("Tên đơn vị tính")]),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("th",[t._v("Số hợp đồng thầu")]):t._e(),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("th",[t._v("Mã lô")]):t._e(),t._v(" "),t._e(),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("th",[t._v("SL tồn thầu (đơn vị)")]):t._e(),t._v(" "),a("th",[t._v("SL bán (đơn vị)")]),t._v(" "),a("th",[t._v("SL bán (hộp)")]),t._v(" "),a("th",[t._v("Giá bán")]),t._v(" "),a("th",[t._v("Tiền hàng")]),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("th",[t._v("Tên chương trình KM")]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("th",[t._v("% GG.KM")]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("th",[t._v("Tiền GG.KM")]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("th",[t._v("% G.Thẻ")]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("th",[t._v("Tiền G.Thẻ")]):t._e(),t._v(" "),a("th",[t._v("Thành tiền hàng")])])]),t._v(" "),a("tbody",t._l(t.web_contract_details,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[t._v(t._s(e.storeID))]),t._v(" "),a("td",[a("strong",{staticClass:"text-success"},[t._v(t._s(e.itemName))])]),t._v(" "),a("td",[t._v(t._s(e.itemUnitName))]),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.qc_XaBang))]):t._e(),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.bchCode))]):t._e(),t._v(" "),t._e(),t._v(" "),"ETC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.remnRfQt))]):t._e(),t._v(" "),a("td",[t._v(t._s(e.storeQtty))]),t._v(" "),a("td",[t._v(t._s(e.itemQtty))]),t._v(" "),a("td",[t._v(t._s(t._f("formatVnd")(e.itemPrice)))]),t._v(" "),a("td",[t._v(t._s(t._f("formatVnd")(e.prdcAmnt)))]),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.prmtListItem))]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.dscnRate))]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(t._f("formatVnd")(e.dscnAmnt)))]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(e.dscnMbRt))]):t._e(),t._v(" "),"OTC"==t.$store.state.user_info.clnType?a("td",[t._v(t._s(t._f("formatVnd")(e.dscnMbAm)))]):t._e(),t._v(" "),a("td",[t._v(t._s(t._f("formatVnd")(e.smPdAmnt)))])])}),0)])])]),t._v(" "),a("div",{staticClass:"row"},[a("hr"),t._v(" "),a("div",{staticClass:"col-md-4 col-md-offset-8"},[t._m(29),t._v(" "),a("table",{staticClass:"table",attrs:{cellpadding:"5"}},[a("tbody",[a("tr",[t._m(30),t._v(" "),a("td",[t._v(t._s(t._f("formatVnd")(t.webContract.prdcAmnt)))])]),t._v(" "),a("tr",[t._m(31),t._v(" "),a("td",[t._v(t._s(t._f("formatVnd")(t.webContract.dscnAmnt)))])]),t._v(" "),a("tr",[t._m(32),t._v(" "),a("td",[t._v(t._s(t._f("formatVnd")(t.webContract.dscnMbAm)))])]),t._v(" "),a("tr",[t._m(33),t._v(" "),a("td",[t._v(t._s(t._f("formatVnd")(t.webContract.sum_Amnt)))])])])])])])])]):t._e()]):t._e(),t._v(" "),[a("CustomerListModal",{attrs:{show:t.show_modal_customer_list},on:{hide:function(e){t.show_modal_customer_list=!1},selected:t.customer_OnChange}}),t._v(" "),a("AddProductModal",{attrs:{show:t.show_modal_add_product,membType:t.webContract.membType,customerID:t.webContract.customerID},on:{hide:function(e){t.show_modal_add_product=!1},selected:t.webContractDetail_Selected}}),t._v(" "),a("SelectProductPromotionModal",{attrs:{show:t.show_product_promotion_modal,membType:t.webContract.membType,customerID:t.webContract.customerID,detail_editing:t.detail_editing,index:t.contract_detail_change_promotion_index},on:{hide:t.onCloseProductPromotionModal,change:t.onProductPromotionChange}})]],2)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-sm btn-default"},[a("i",{staticClass:"fa fa-plus"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",{staticClass:"box-title"},[a("img",{attrs:{src:"/dist/img/pharmacy-icon.png",width:"30",alt:"Thông tin đơn hàng"}}),t._v(" "),a("strong",[t._v("Thông tin khách hàng")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",{staticClass:"box-title"},[a("img",{attrs:{src:"/dist/img/truck-icon.svg",width:"30",alt:"Thông tin đơn vị nhận hàng"}}),t._v(" "),a("strong",[t._v("Đơn vị nhận hàng")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",{staticClass:"box-title"},[a("img",{attrs:{src:"/dist/img/shopping-bags.png",width:"30",alt:"Sản phẩm"}}),t._v(" "),a("strong",[t._v("Giỏ hàng")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alert alert-danger alert-dismissible hidden"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-hidden":"true"}},[t._v("×")]),t._v(" "),a("h4",[a("i",{staticClass:"icon fa fa-ban"}),t._v(" Cảnh báo!")]),t._v("\n              Sản phẩm đã bị trùng lặp trong giỏ hàng\n            ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h3",{staticClass:"box-title"},[a("img",{attrs:{src:"/dist/img/vitamin-c.png",width:"30",alt:"Sản phẩm"}}),t._v(" "),a("strong",[t._v("Tổng quan đơn hàng")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",[a("i",{staticClass:"fa fa-first-order"}),t._v(" "),a("strong",{staticClass:"text-success"},[t._v("Thông tin đơn hàng")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("ASM :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("TEAM :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("SUB :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Số kênh :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Mã kênh :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Số đơn đặt hàng :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Ngày đơn đặt hàng :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Tên trình dược viên :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Tình trạng :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Ghi chú :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Ngày giờ tạo :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Ngày giờ sửa :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{width:"40%"}},[a("strong",[t._v("Mã khách hàng :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Mã thẻ thành viên :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Loại thẻ :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Tỷ lệ giảm thẻ :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Tên khách hàng :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Điện thoại :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Địa chỉ :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{width:"40%"}},[a("strong",[t._v("Mã đơn vị nhận :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Tên đơn vị :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Địa chỉ nhận hàng :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",[a("i",{staticClass:"fa fa-money"}),t._v(" "),a("strong",{staticClass:"text-success"},[t._v("Thông tin thanh toán")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Tổng tiền hàng :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Tiền giảm giá khuyến mãi :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Tiền giảm thẻ :")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("strong",[t._v("Tổng thanh toán :")])])}]},276:function(t,e,a){var n=a(255);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a(103).default;s("44c97276",n,!0,{})},278:function(t,e,a){var n=a(257);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a(103).default;s("54e94a2d",n,!0,{})},279:function(t,e,a){var n=a(258);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a(103).default;s("2a812ced",n,!0,{})},280:function(t,e,a){var n=a(259);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a(103).default;s("24d0029a",n,!0,{})},281:function(t,e,a){var n=a(260);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=a(103).default;s("61ea277c",n,!0,{})}});