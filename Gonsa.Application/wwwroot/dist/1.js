webpackJsonp([1],{220:function(t,a,e){"use strict";function n(t){e(277)}Object.defineProperty(a,"__esModule",{value:!0});var s=e(232),r=e.n(s);for(var i in s)["default","default"].indexOf(i)<0&&function(t){e.d(a,t,function(){return s[t]})}(i);var o=e(271),l=e(32),c=n,u=e.i(l.a)(r.a,o.a,o.b,!1,c,"data-v-73e7f4c2",null);a.default=u.exports},221:function(t,a,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var s=e(101),r=n(s),i=e(100),o=n(i);a.default={data:function(){return{show:!1}},mounted:function(){var t=this;return(0,o.default)(r.default.mark(function a(){var e,n;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$http.get("/api/ApiAccount/ApiGetMenu");case 3:e=a.sent,e.data&&(n=e.data.find(function(t){return"81003"==t.menuID}),n?t.show=!0:t.$router.push("/")),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t.$router.push("/");case 10:case"end":return a.stop()}},a,t,[[0,7]])}))()},filters:{filterStatus:function(t){return-1==t?"<span class='label label-default'>Đã lưu</span>":101==t?"<span class='label label-primary'>Đã post</span>":201==t?"<span class='label label-info'>Team Lead đã duyệt</span>":0==t?"<span class='label label-warning'>Trả về chờ chỉnh sửa</span>":301==t?"<span class='label label-default'>Đã lập phiếu bán</span>":401==t?"<span class='label label-default'>Hàng đang giao</span>":501==t?"<span class='label label-success'>Hoàn tất</span>":""}}}},232:function(t,a,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var s=e(101),r=n(s),i=e(100),o=n(i),l=e(221),c=n(l);a.default={mixins:[c.default],data:function(){return{web_contract_list:[],status:null,pagination:{currentPage:1,total:0,pageSize:10,max:3}}},methods:{load_web_contrac_list:function(){var t=this;return(0,o.default)(r.default.mark(function a(){var e,n,s;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e="/api/webcontract?page="+t.pagination.currentPage+"&pageSize="+t.pagination.pageSize,n=t.$route.query.status,n&&(t.status=n,e+="&status="+n),a.next=6,t.$http.get(e).catch(function(a){console.log(a),t.$router.push("/web-contract")});case 6:s=a.sent,s.data&&(t.web_contract_list=s.data.data,t.pagination.total=s.data.total),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}},a,t,[[0,10]])}))()},loadPage:function(t){var a=this;return(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.$store.state.show_loading=!0,a.pagination.currentPage=t,e.next=4,a.load_web_contrac_list();case 4:a.$store.state.show_loading=!1;case 5:case"end":return e.stop()}},e,a)}))()}},filters:{filterOdate:function(t){return t?t.substring(0,10):""}},mounted:function(){var t=this;return(0,o.default)(r.default.mark(function a(){return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.loadPage(1);case 2:case"end":return a.stop()}},a,t)}))()},computed:{totalPages:function(){return Math.ceil(this.pagination.total/this.pagination.pageSize)},start:function(){var t=this.pagination.currentPage-this.pagination.max;return t<=1?1:t},end:function(){var t=this.pagination.currentPage+this.pagination.max;return t>this.totalPages?this.totalPages:t}}}},256:function(t,a,e){a=t.exports=e(102)(),a.push([t.i,".tl-wrap-table[data-v-73e7f4c2]{overflow-x:scroll}.tl-wrap-table th[data-v-73e7f4c2]{white-space:nowrap}",""])},271:function(t,a,e){"use strict";e.d(a,"a",function(){return n}),e.d(a,"b",function(){return s});var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("section",{staticClass:"content-header"},[e("h1",[t._v("\n      Danh sách đơn hàng\n      "),t.status?e("small",{domProps:{innerHTML:t._f("filterStatus")(t.status)}}):e("small",[t._v("\n        Tất cả đơn hàng\n      ")])]),t._v(" "),e("ol",{staticClass:"breadcrumb"},[e("li",[e("router-link",{attrs:{to:"/"}},[e("i",{staticClass:"fa fa-dashboard"}),t._v(" Dashboard")])],1),t._v(" "),e("li",{staticClass:"active"},[t._v("Danh sách đơn hàng")])])]),t._v(" "),t.show?e("section",{staticClass:"content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("p",{staticClass:"text-right"},[e("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:"/new-web-contract"}},[e("i",{staticClass:"fa fa-plus"}),t._v(" Thêm đơn hàng mới\n          ")])],1),t._v(" "),e("div",{staticClass:"box box-primary"},[e("div",{staticClass:"box-body"},[e("div",{staticClass:"tl-wrap-table"},[e("table",{staticClass:"table table-bordered",attrs:{width:"1200"}},[t._m(0),t._v(" "),e("tbody",t._l(t.web_contract_list,function(a,n){return e("tr",{key:n},[e("td",[t._v(t._s(n+1))]),t._v(" "),e("td",[e("strong",[t._v(t._s(a.oid))])]),t._v(" "),e("td",[e("strong",{staticClass:"text-primary"},[t._v(t._s(a.csName))])]),t._v(" "),e("td",[t._v(t._s(t._f("filterOdate")(a.odate)))]),t._v(" "),e("td",{domProps:{innerHTML:t._f("filterStatus")(a.currSignNumb)}}),t._v(" "),e("td",[t._v(t._s(a.stepName))]),t._v(" "),e("td",{attrs:{width:"150"}},[e("router-link",{staticClass:"btn btn-xs btn-primary",attrs:{to:"/web-contract/edit?oid="+a.oid}},[t._v("Xem đơn hàng")])],1)])}),0)])]),t._v(" "),e("div",{staticClass:"text-right"},[e("ul",{staticClass:"pagination pagination-sm"},[t.pagination.currentPage>1?[e("li",[e("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"},on:{click:function(a){t.loadPage(t.pagination.currentPage-1)}}},[e("i",{staticClass:"fa fa-arrow-left"})])]),t._v(" "),t.pagination.currentPage>t.pagination.max+1?e("li",[e("a",{attrs:{href:"#"},on:{click:function(a){t.loadPage(1)}}},[t._v("1")])]):t._e()]:t._e(),t._v(" "),t.start>=t.pagination.max?[t.start==t.pagination.max?e("li",[e("a",{attrs:{href:"#"},on:{click:function(a){t.loadPage(2)}}},[t._v("2")])]):e("li",[e("a",{attrs:{href:"#"}},[t._v("...")])])]:t._e(),t._v(" "),t._l(t.end,function(a){return a>=t.start?[a==t.pagination.currentPage?[e("li",{staticClass:"active"},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v(t._s(a))])])]:[e("li",[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){t.loadPage(a)}}},[t._v(t._s(a))])])]]:t._e()}),t._v(" "),t.end+1<t.totalPages?[t.end+2==t.totalPages?e("li",[e("a",{attrs:{href:"#"},on:{click:function(a){t.loadPage(t.totalPages-1)}}},[t._v(t._s(t.totalPages-1))])]):e("li",[e("a",{attrs:{href:"#"}},[t._v("...")])])]:t._e(),t._v(" "),t.pagination.currentPage<t.totalPages?[t.pagination.currentPage<t.totalPages-t.pagination.max?e("li",[e("a",{attrs:{href:"#"},on:{click:function(a){t.loadPage(t.totalPages)}}},[t._v(t._s(t.totalPages))])]):t._e(),t._v(" "),t.pagination.currentPage<t.totalPages?e("li",[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){t.loadPage(t.pagination.currentPage+1)}}},[e("i",{staticClass:"fa fa-arrow-right"})])]):t._e()]:t._e()],2)])])])])])]):t._e()])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",[t._v(".No")]),t._v(" "),e("th",[t._v("Số DDH")]),t._v(" "),e("th",{staticStyle:{width:"200px"}},[t._v("Khách hàng")]),t._v(" "),e("th",[t._v("Ngày đơn hàng")]),t._v(" "),e("th",[t._v("Tình trạng")]),t._v(" "),e("th",[t._v("Bước duyệt tiếp theo")]),t._v(" "),e("th",[t._v("#")])])])}]},277:function(t,a,e){var n=e(256);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=e(103).default;s("77e1fd36",n,!0,{})}});